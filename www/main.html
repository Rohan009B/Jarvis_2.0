<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jarvis2.0</title>
  <link rel="stylesheet" href="main.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"> <!--bootstrap icons -->
  <link rel="shortcut icon" href="assets/images/icon_app.png" type="image/x-icon">

  <style>
    #animatedText1 {
  color: white; /* or any visible color */
  font-size: 1.2rem;
  min-height: 3em;
  white-space: pre-wrap;
}

  </style>
</head>
<body>
  
  <!-- Particles container -->
  <div id="particles-js"></div>

<div class="container" id="mainContainer">
  <!-- HUD in center -->
  <main>
    <div id="jarvisHood">
      <div class="square">
        <span class="circle"></span>
        <span class="circle"></span>
        <span class="circle"></span>
        <div class="rotating-inner"></div>
      </div>
    </div>
  </main>
   <!-- âœ… Text stays responsive at bottom -->
  <div class="col-md-12">
  <div class="text-center d-flex justify-content-center align-items-center">
      <h2 id="animatedText"></h2>
  </div>
</div>

  <div class="col-md-12">
    <div class="text-center">
        <div class="d-flex" id="TextInput">
            <input type="text" name="text" id="chatbox" placeholder="Type your query here...">
            <button id="micbtn" class="glow-on-hover"><i class="bi bi-mic"></i></button>
            <audio id="micSound" src="assets/audio/AI.mp3"></audio>
            <button id="textbtn" class="glow-on-hover"><i class="bi bi-chat-dots"></i></button>
            <button id="settingbtn" class="glow-on-hover"><i class="bi bi-gear"></i></button>
        </div>
    </div>
  </div>
</div>

<div id="siriWave" class="mb-4" hidden>
  <div class="row">
    <div class="col-md-12">
     <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
        <div class="">
          <p class="text-start text-light mb-4 siri-message" id="animatedText1">Hello, I am Jarvis 2.0, Ask me anything...</p>
          <div id="siri-container"></div>
        </div>
      </div>
    </div>
  </div>
</div>


  <!-- Load particles.js library -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Particles config -->
  <script>
  particlesJS("particles-js", {
    "particles": {
      "number": { "value": 60, "density": { "enable": true, "value_area": 800 } },
      "color": { "value": "#00ffff" },
      "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" } },
      "opacity": { "value": 0.5, "random": false },
      "size": { "value": 3, "random": true },
      "line_linked": { "enable": true, "distance": 150, "color": "#00ffff", "opacity": 0.4, "width": 1 },
      "move": { "enable": true, "speed": 2, "direction": "none", "out_mode": "out" }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": { "enable": true, "mode": "grab" },
        "onclick": { "enable": true, "mode": "push" }
      },
      "modes": {
        "grab": { "distance": 140, "line_linked": { "opacity": 1 } },
        "push": { "particles_nb": 4 }
      }
    },
    "retina_detect": true
  });
  </script>

  <!-- Typing effect -->
  <script>

    const speed = 100;
    let i = 0;
    function typeEffect() {
      if (i < text.length) {
        document.getElementById("animatedText").innerHTML += text.charAt(i);
        i++;
        setTimeout(typeEffect, speed);
      }
    }
    window.onload = typeEffect;
  </script>

  <script src="/eel.js"></script>
  <script src="main.js"></script>
  <script src="controller.js"></script>
  <!-- siriwave js -->
  <script src="https://unpkg.com/siriwave/dist/siriwave.umd.min.js"></script>  

  <script type="text/javascript">
  eel.expose(activate_siriwave);
  function activate_siriwave() {
    const ovel = document.getElementById("mainContainer");
    const siriWaveElement = document.getElementById("siriWave");
    const micSound = document.getElementById("micSound");

    if (ovel) ovel.hidden = true;
    if (siriWaveElement) siriWaveElement.hidden = false;
    if (micSound) {
      micSound.currentTime = 0;
      micSound.play();
    }
  }
</script>

</body>
</html>
